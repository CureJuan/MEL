"use strict";(self.webpackChunkfuse_react_app=self.webpackChunkfuse_react_app||[]).push([[235],{85235:function(e,t,r){r.r(t);var n=r(29439),u=r(47313),s=(r(24211),r(14241)),a=r(74399),i=r(48542),o=r(18662),c=r(22408),p=r(97890),d=r(43850),l=(r(52430),r(46417));s.StylesManager.applyTheme("defaultV2");t.default=function(){var e=(0,u.useState)({locale:"English",title:{English:"Multi",Spanish:"Multi sp",French:"Multi fr"},logoPosition:"right",pages:[{name:"page1",elements:[{type:"text",name:"question1",title:{default:"Test",Spanish:"Test",French:"Test"}}]}],showTitle:!0}),t=(0,n.Z)(e,2),r=t[0],f=t[1],h=(0,u.useState)(""),m=(0,n.Z)(h,2),b=m[0],y=m[1],g=new s.Model(r),w=(0,u.useState)(!1),v=(0,n.Z)(w,2),Y=v[0],S=v[1],j=(0,c.I0)(),x=(0,p.s0)();return(0,u.useEffect)((function(){var e=window.location.href,t=e.split("/");i.Y.debug("Url>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>."),i.Y.debug(e),i.Y.debug(t),i.Y.debug(t[t.length-1]);var r=t[t.length-1];i.Y.debug("id"),i.Y.debug(r),""!=r&&r.includes("-")&&(y(r),(0,o.XY)(r).then((function(e){i.Y.debug("Validate response"),i.Y.debug(e),f(e.data.formFieldsJson),S(!0)})).catch((function(e){i.Y.debug("Validate error"),i.Y.debug(e),422==e.response.data.statusCode&&(j((0,d.PV)({message:e.response.data.message,variant:"error"})),setTimeout((function(){x("/welcome")}),5e3))})))}),[]),g.onComplete.add((function(e,t){i.Y.debug(e.data),(0,o.Nb)({email:"",formResponseJson:e.data,surveyjsFormId:b}).then((function(e){i.Y.debug("added response"),i.Y.debug(e)})).catch((function(e){i.Y.debug("added error"),i.Y.debug(e)})),i.Y.debug(t)})),(0,l.jsx)("div",{className:"flex justify-center items-center",children:(0,l.jsx)("div",{className:"w-[90%] h-[90%]",children:Y&&(0,l.jsx)(a.Survey,{model:g})})})}},18662:function(e,t,r){r.d(t,{LY:function(){return y},Nb:function(){return T},OJ:function(){return m},Wy:function(){return w},XY:function(){return j},qZ:function(){return Y}});var n=r(1413),u=r(15861),s=r(64687),a=r.n(s),i=r(61222),o=(r(48542),"https://cap-net-mel-uat.azurewebsites.net/api"),c="/surveyjs/addSurveyjsForm",p="/surveyjs/editSurveyJsForm",d="/surveyjs/getAllFormStructures",l="/surveyjs/publishFormStructure",f="/surveyjs/validatePublishedForm",h="/surveyjs/addFormResponse";function m(e){return b.apply(this,arguments)}function b(){return(b=(0,u.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.WY)({url:o+c,method:"POST",body:t,withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t){return g.apply(this,arguments)}function g(){return(g=(0,u.Z)(a().mark((function e(t,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.WY)({url:o+p,method:"PUT",body:t,params:{formId:r},withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e,t,r){return v.apply(this,arguments)}function v(){return(v=(0,u.Z)(a().mark((function e(t,r,n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.WY)({url:o+d,method:"GET",params:{pageSize:t,pageIndex:r,searchKeyword:n},withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e){return S.apply(this,arguments)}function S(){return(S=(0,u.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.WY)({url:o+l,method:"PUT",params:(0,n.Z)({},t),withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(e){return x.apply(this,arguments)}function x(){return(x=(0,u.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.WY)({url:o+f,method:"GET",params:{formId:t},withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,u.Z)(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,i.WY)({url:o+h,method:"POST",body:t,withCredentials:!0}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},52430:function(){}}]);